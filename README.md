# Shadow Badger CLI

This is a command line tool to manage a shadow budget. It is currently in active development and doesn't yet have a beta version.

## Domain Model Diagram

This is the planned domain model.

```mermaid
classDiagram

class Currency {
  primaryKey: id âœ…
  Date: createdAt âœ…
  Date: updatedAt âœ…
  number: version âœ…
  ===
  string: code [unique] âœ…
  string: name [unique] âœ…
  string: symbol âœ…
  string?: description âœ…
}

class Category {
  primaryKey: id âœ…
  Date: createdAt âœ…
  Date: updatedAt âœ…
  number: version âœ…
  ===
  string: code [unique] âœ…
  string: name [unique] âœ…
  string?: description âœ…
}

class Account {
  primaryKey: id âœ…
  Date: createdAt âœ…
  Date: updatedAt âœ…
  number: version âœ…
  ===
  string: code [unique] âœ…
  string: name [unique] âœ…
  Date?: opened âœ…
  Date?: closed âœ…
  string?: description âœ…
  ===
  number: currencyId âœ…
}

class Vendor {
  primaryKey: id âœ…
  Date: createdAt âœ…
  Date: updatedAt âœ…
  number: version âœ…
  ===
  string[]: tags ðŸ”
  string: name [unique] âœ…
  string?: address âœ…
  string?: coordinates âœ…
  string?: description âœ…
}

class Transaction {
  primaryKey: id âœ…
  Date: createdAt âœ…
  Date: updatedAt âœ…
  number: version âœ…
  ===
  Date: dateTime âœ…
  string?: amount âŒ
  string?: description âœ…
  string[]: tags âŒ
  ===
  number: accountId âœ…
  number: categoryId âœ…
  number: vendorId âœ…
}

class Snapshot {
  primaryKey: id âŒ
  Date: createdAt âŒ
  Date: updatedAt âŒ
  number: version âŒ
  ===
  Date: dateTime âŒ
  string: balance âŒ
  string?: description âŒ
  ===
  number: accountId âŒ
}

Currency --> Account: one to many
Account --> Transaction: one to many
Category --> Transaction: one to many
Vendor --> Transaction: one to many
Account --> Snapshot: one to many
```

## Next Steps

- implement tags for vendors as simple array fields
  - [x] rename tagify to tag
  - [x] rename remove-tag to untag
  - [x] add untag command and function to vendor
  - [x] ensure all vendor tests have a tags field
- implement tagging and untagging for transactions
  - [x] add tags to schema and interface for transactions
  - [x] update all transactions fixtures to have a tags field
  - [x] check editVendor tag replacement
  - [ ] implement editTransaction tag replacement
  - [ ] add tagging feature for transactions (manual testing), copying from vendors
  - [ ] add untagging feature for transactions (manual testing), copying from vendors
- make view commands work by regex
- snapshots
- format coordinates nicely
- implement view-tags command for vendors and transactions
- make accounts and transactions viewable by relation id
- make vendors searchable by GPS with precision
